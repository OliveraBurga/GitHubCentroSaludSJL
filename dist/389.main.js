"use strict";(self.webpackChunkpoliclinico=self.webpackChunkpoliclinico||[]).push([[389],{389:(n,a,e)=>{let t,i;e.r(a),e.d(a,{default:()=>r});let o={render:()=>'\n        <div class="row">\n            <div class="col-md-12">            \n\n            <datalist id="list-tipo_cuenta_bancaria">\n                <option value="CUENTA CORRIENTE" />\n                <option value="CUENTA DE AHORROS" />\n                <option value="CUENTA REMUNERADA" />\n            </datalist>\n                <table class="table">\n                    <thead>\n                        <tr>\n                            <th>BANCO</th>\n                            <th>TIPO DE CUENTA</th>\n                            <th>NÚMERO DE CUENTA</th>\n                            <th>DETRACCIÓN</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody name="detalle-cuenta_bancaria"></tbody>\n                    <tfoot>\n                        <tr>\n                            <td><button type="button" name="agregar_cuenta_bancaria" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                        </tr>\n                    </tfoot>\n                </table>\n\n            </div>\n        </div>\n        ',after_render:async(n="main")=>{i="#"+n,t=$(i),t.find('button[name="agregar_cuenta_bancaria"]').click((function(n){n.stopImmediatePropagation(),o.agregar()})),t.on("click",'button[name="quitar-cuenta_bancaria"]',(function(n){n.stopImmediatePropagation(),o.quitar($(this))})),t.find('tbody[name="detalle-cuenta_bancaria"]').html("")},quitar:n=>{var a=n.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},agregar:(n=null)=>{null==n&&(n={id:"",banco:"",tipo:"",numero:"",fl_detraccion:0});let a='\n            <tr data-codigo="'+Math.random().toString(36).substr(2)+'">\n                <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+n.id+'"/></td>\n                <td><input type="text" data-name="banco"  class="form-control" value="'+n.banco+'"  /></td>\n                <td><input type="text" data-name="tipo"  class="form-control" value="'+n.tipo+'" list="list-tipo_cuenta_bancaria" /></td>\n                <td><input type="text" data-name="numero" class="form-control" value="'+n.numero+'" /></td>\n                <td><input type="checkbox" '+(1==n.fl_detraccion?"checked":"")+' data-name="fl_detraccion" /></td>\n                <td><button type="button" name="quitar-cuenta_bancaria" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n            </tr>\n        ';t.find('tbody[name="detalle-cuenta_bancaria"]').append(a)},get_datajson:()=>{let n=[];return t.find('tbody[name="detalle-cuenta_bancaria"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),banco:$(this).find('input[data-name="banco"]').val(),tipo:$(this).find('input[data-name="tipo"]').val(),numero:$(this).find('input[data-name="numero"]').val(),fl_detraccion:$(this).find('input[data-name="fl_detraccion"]').is(":checked")?1:0};n.push(a)})),n}};const l=o;let s,d,c={render:async n=>{$("#main").off(),n.innerHTML='\n\n        <div id="main">\n            \x3c!-- Content Header (Page header) --\x3e\n            <section class="content-header">\n                <div class="row">\n                    <div class="col-md-8 content-header" style="padding-top:5px;">\n                        <h1 style="margin:0; ">\n                            Personal\n                            <small>Configuración</small>\n                        </h1>\n                    </div>\n                    <div class="col-md-4" align="right">\n                        <button type="button" class="btn btn-sm btn-info" name="nuevo"><i class="fa fa-plus"></i> Nuevo</button>\n                    </div>\n                </div>\n                </section>\n\n                \x3c!-- Main content --\x3e\n                <section class="content">\n\n                \x3c!-- Default box --\x3e\n                <div class="box box-info">\n                    <div class="box-body">\n                    <div class="table-responsive">\n                        <table name="registros" class="table table-striped" style="width:100%;"></table>\n                    </div>\n                    </div>\n                </div>\n                \x3c!-- /.box --\x3e\n\n            </section>\n            \x3c!-- /.content --\x3e\n\n            \x3c!-- MODAL SAVE --\x3e\n            <div class="modal inmodal fade" name="modal-save" data-backdrop="static"  role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n                            <h4 name="save" class="modal-title">Modal title</h4>\n                        </div>\n                        <form name="save">\n                            <div class="modal-body">\n                                <div class="nav-tabs-custom">\n                                    <ul class="nav nav-tabs">\n                                        <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="true">Datos 1</a></li>\n                                        <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false">Datos 2</a></li>\n                                        <li class=""><a href="#tab_3" data-toggle="tab" aria-expanded="false">Datos 3</a></li>\n                                        <li class=""><a href="#tab_cuenta_bancaria" data-toggle="tab" aria-expanded="false">Cuentas Bancarias</a></li>\n                                        <li class="" style="display:none;"><a href="#tab_4" data-toggle="tab" aria-expanded="false">Datos 4</a></li>\n                                    </ul>\n                                    <div class="tab-content">\n                                        <div class="tab-pane active" id="tab_1">\n                                            <div class="row">\n                                                <div class="col-md-3">\n                                                    <div class="row">\n                                                        <div class="col-md-12" align="center">\n                                                            <div>\n                                                                <img name="imagen" style="max-width:100%;" class="img_rectangle">\n                                                            </div>\n                                                            <div>\n                                                                <label class="btn btn-default btn-sm" style="width:100%;">\n                                                                    <i class="fa fa-search"></i> Examinar\n                                                                    <input type="file" name="imagen" style="display:none;">\n                                                                </label>\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-12" align="center">\n                                                            <div>\n                                                                <img name="imagen_firma" style="max-width:100%;" class="img_rectangle">\n                                                            </div>\n                                                            <div>\n                                                                <label class="btn btn-default btn-sm" style="width:100%;">\n                                                                    <i class="fa fa-search"></i> Firma Virtual\n                                                                    <input type="file" name="imagen_firma" style="display:none;">\n                                                                </label>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-9">\n                                                    <div class="row">\n                                                        <div class="col-md-4">\n                                                            <div class="form-group">\n                                                                <label>Tipo de Personal <span class="text-red">(*)</span></label>\n                                                                <div class="form-group">\n                                                                    <select name="tipo_personal" class="form-control select">\n                                                                        <option value="">Seleccione...</option>\n                                                                            <option value="ADMINISTRATIVO">ADMINISTRATIVO</option>\n                                                                            <option value="BIOLOGO">BIOLOGO</option>\n                                                                            <option value="ENFERMERA">ENFERMERA</option>\n                                                                            <option value="MEDICO">MEDICO</option>\n                                                                            <option value="MICROBIOLOGO">MICROBIOLOGO</option>\n                                                                            <option value="PSICOLOGO">PSICOLOGO</option>\n                                                                            <option value="TEC.ENFERMERA">TEC.ENFERMERA</option>\n                                                                            <option value="TECNOLOGO MEDICO">TECNOLOGO MEDICO</option>\n                                                                            <option value="OTRO">OTRO</option>\n                                                                    </select>\n                                                                </div>                              \n                                                            </div>\n                                                        </div>                              \n                                                        <div class="col-md-4">\n                                                            <div class="form-group">\n                                                                <label>Documento <span class="text-red">(*)</span></label>\n                                                                <select data-select="DOCUMENTO_ENTIDAD" name="id_documento"class="form-control select"></select>\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-4">\n                                                            <label>Número DOc. <span class="text-red">(*)</span></label>\n                                                            <div class="input-group">\n                                                                <input type="number" name="numero_documento" class="form-control" autocomplete="off">\n                                                                <span class="input-group-btn">\n                                                                <button type="button" name="buscar_numero" class="btn btn-primary" data-style="zoom-in">\n                                                                    <i class="fa fa-search"></i>\n                                                                </button>\n                                                                </span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-6">\n                                                            <div class="form-group">\n                                                                <label>Nombres <span class="text-red">(*)</span></label>\n                                                                <input type="text" name="nombre" class="form-control" autocomplete="off">\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-6">\n                                                            <div class="form-group">\n                                                                <label>Apellidos <span class="text-red">(*)</span></label>\n                                                                <input type="text" name="apellido" class="form-control" autocomplete="off">\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-3">\n                                                            <div class="form-group">\n                                                                <label>Tipo Contratación <span class="text-red">(*)</span></label>\n                                                                <div class="form-group">\n                                                                    <select name="tipo_contratacion" class="form-control select2">\n                                                                        <option value="">Seleccione...</optipn>    \n                                                                        <option value="DIRECTA">DIRECTA</optipn>\n                                                                        <option value="TERCERO">TERCERO</optipn>\n                                                                    </select>\n                                                                </div>                              \n                                                            </div>\n                                                        </div>   \n                                                        <div class="col-md-9">\n                                                            <div class="form-group">\n                                                                <label>Dirección</label>\n                                                                <input type="text" name="direccion" class="form-control" autocomplete="off">\n                                                            </div>\n                                                        </div>\n                                                        <div class="col-md-12">\n                                                            <div class="form-group">\n                                                                <label>UBIGEO - (Departamento - Provincia - Distrito)</label>\n                                                                <div class="form-group">\n                                                                <select data-select="UBIGEO" name="id_ubigeo" class="form-control select2"></select>\n                                                                </div>                              \n                                                            </div>\n                                                        </div>            \n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        \x3c!-- /.tab-pane --\x3e\n                                        <div class="tab-pane" id="tab_2">\n                                            <div class="row">\n                                                <div class="col-md-6">\n                                                <div class="form-group">\n                                                    <label>Modalidad de Contrato </label>\n                                                    <select name="modalidad_contrato" class="form-control select2">\n                                                        <option value="">Seleccione...</option>\n                                                        <option value="POR INICIO O INCREMENTO DE ACTIVIDAD">POR INICIO O INCREMENTO DE ACTIVIDAD</option>\n                                                        <option value="POR NECESIDAD DE MERCADO">POR NECESIDAD DE MERCADO</option>\n                                                        <option value="POR RECONVERSIÓN EMPRESARIAL">POR RECONVERSIÓN EMPRESARIAL</option>\n                                                        <option value="OCASIONAL">OCASIONAL</option>\n                                                        <option value="DE SUPLENCIA">DE SUPLENCIA</option>\n                                                        <option value="DE EMERGENCIA">DE EMERGENCIA</option>\n                                                        <option value="POR OBRA DETERMINADA O SERVICIO ESPECÍFICO">POR OBRA DETERMINADA O SERVICIO ESPECÍFICO</option>\n                                                        <option value="INTERMITENTE">INTERMITENTE</option>\n                                                        <option value="DE TEMPORADA">DE TEMPORADA</option>\n                                                        <option value="CONTRATACIÓN INDETERMINADO">CONTRATACIÓN INDETERMINADO</option>\n                                                    </select>\n                                                </div>\n                                                </div>\n                                                <div class="col-md-6">\n                                                <div class="form-group">\n                                                    <label>Género </label>\n                                                    <select name="genero"  class="form-control select2">\n                                                        <option value="">Seleccione...</option>\n                                                        <option value="MASCULINO">MASCULINO</option>\n                                                        <option value="FEMENINO">FEMENINO</option>\n                                                    </select>\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Teléfono</label>\n                                                    <input type="text" name="telefono" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>C.M.P</label>\n                                                    <input type="text" name="cmp" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>R.N.E</label>\n                                                    <input type="text" name="rne" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        \x3c!-- /.tab-pane --\x3e\n                                        <div class="tab-pane" id="tab_3">\n                                            <div class="row">\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Fecha de Nacimiento </label>\n                                                    <input type="date" name="fecha_nacimiento" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Fecha de Ingreso </label>\n                                                    <input type="date" name="fecha_ingreso" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Fecha de Planilla </label>\n                                                    <input type="date" name="fecha_planilla" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Fecha de Salida </label>\n                                                    <input type="date" name="fecha_salida" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Sueldo Básico </label>\n                                                    <input type="number" step="any" name="sueldo_basico" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Sueldo Variable </label>\n                                                    <input type="number" step="any" name="sueldo_variable" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                <div class="form-group">\n                                                    <label>Sueldo Interno </label>\n                                                    <input type="number" step="any" name="sueldo_interno" class="form-control" autocomplete="off">\n                                                </div>\n                                                </div>\n                                                <div class="col-md-8">\n                                                    <div class="form-group">\n                                                        <label>Nº Seguro </label>\n                                                        <input type="text" name="numero_seguro" class="form-control" autocomplete="off">\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-6">\n                                                    <div class="form-group">\n                                                        <label>Seguro complementario de trabajo y riesgo</label>\n                                                        <input type="text" name="seguro_com_trabajo_riesgo" class="form-control" autocomplete="off">\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-6">\n                                                    <div class="form-group">\n                                                        <label>Seguro de salud</label>\n                                                        <input type="text" name="seguro_salud" class="form-control" autocomplete="off">\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-6">\n                                                    <div class="form-group">\n                                                        <label>Seguro vida ley</label>\n                                                        <input type="text" name="seguro_vidaley" class="form-control" autocomplete="off">\n                                                    </div>\n                                                </div>               \n                                            </div>\n                                        </div>\n                                        <div class="tab-pane" id="tab_cuenta_bancaria">\n                                            <div class="row">\n                                                <div class="col-md-12">'+l.render()+'</div>\n                                            </div>\n                                        </div>\n                                        \x3c!-- /.tab-pane --\x3e\n                                        <div class="tab-pane" id="tab_4">\n                                            <datalist id="list-check_sino">\n                                                <option value="SI" />\n                                                <option value="NO" />\n                                            </datalist>\n                                            <div class="row">\n                                                <div class="col-md-8">\n                                                    <div class="form-group">\n                                                        <label>Cliente</label>\n                                                        <select data-select="CLIENTE" name="id_cliente" class="form-control"></select>\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Código SAP</label>\n                                                        <input type="text" name="codigo_sap" class="form-control" autocomplete="off" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>PAIS</label>\n                                                        <input type="text" name="pais" class="form-control" autocomplete="off" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Filtro Security</label>\n                                                        <input type="text" name="filtro_security" class="form-control" autocomplete="off" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Vigencia Filtro</label>\n                                                        <input type="text" name="vigencia_filtro" class="form-control" autocomplete="off" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Foto Check</label>\n                                                        <input type="text" name="fotocheck" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Licencia Interna</label>\n                                                        <input type="text" name="licencia_interna" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Hazmat I</label>\n                                                        <input type="text" name="hazmati" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Hazmat II</label>\n                                                        <input type="text" name="hazmatii" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Capacitación MTC</label>\n                                                        <input type="text" name="capacitacion_mtc" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Certificado Primeros Auxilios</label>\n                                                        <input type="text" name="certi_prim_auxilio" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Certificado Manejo Defensivo</label>\n                                                        <input type="text" name="certi_man_defensivo" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Certificado Manejo Extintores</label>\n                                                        <input type="text" name="certi_man_extintor" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Portuaria Seguridad</label>\n                                                        <input type="text" name="portuaria_seguridad" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Protección Portuaria</label>\n                                                        <input type="text" name="proteccion_portuaria" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Curriculum</label>\n                                                        <input type="text" name="curriculum" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Record</label>\n                                                        <input type="text" name="record" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Otros</label>\n                                                        <input type="text" name="otro" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Antecedentes Policiales</label>\n                                                        <input type="text" name="antecedente_policial" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Antecedentes Penales</label>\n                                                        <input type="text" name="antecedente_penal" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Trabajo en Altura</label>\n                                                        <input type="text" name="trabajo_altura" class="form-control" autocomplete="off" list="list-check_sino" />\n                                                    </div>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    <div class="form-group">\n                                                        <label>Status/Observación</label>\n                                                        <input type="text" name="observacion" class="form-control" autocomplete="off" />\n                                                    </div>\n                                                </div>\n                                                              \n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                \n                            </div>\n                            <div class="modal-footer" align="center" style="display:block">\n                                <button type="button" name="cerrar" class="btn btn-white pull-left" data-dismiss="modal">Cerrar</button>\n                                <button type="submit" class="btn btn-primary">Guardar</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- MODAL DELETE --\x3e\n            <div class="modal inmodal fade" name="modal-delete" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-sm">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>\n                            <h4 name="delete" class="modal-title">Modal title</h4>\n                        </div>\n                        <form name="delete">\n                            <div class="row">\n                                <div class="col-md-12" align="center">\n                                    <i class="fad fa-trash-alt fa-4x"></i><br/>\n                                </div>\n                                <div class="col-md-12"  align="center" style="padding-top:10px;">\n                                    <label><input type="checkbox" name="confirmacion" required/>\n                                        Confirmo realizar la eliminación</label>\n                                    <p style="color:red;">Esta acción no se podrá revertir</p>\n                                </div>\n                                <div class="col-md-12" name="texto" align="center">\n\n                                </div>\n                            </div>\n                            <div class="modal-footer" align="center" style="display:block" >\n                                <button type="button" name="cerrar" class="btn btn-white" data-dismiss="modal">Cerrar</button>\n                                <button type="submit" name="submit" class="btn btn-danger">Eliminar Ahora!</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        \n\n        </div>            \n        ',await l.after_render(),await c.after_render()},after_render:async()=>{d="#main",s=$(d),s.find('form[name="save"]').validate({rules:{tipo_personal:{required:!0},id_documento:{required:!0},numero_documento:{required:!0},nombre:{required:!0},apellido:{required:!0},tipo_contratacion:{required:!0},id_proveedor:{required:!0}},messages:{tipo_personal:"Tipo de Personal",id_documento:"Documento",numero_documento:"Número de Documento",nombre:"Nombre",apellido:"Apellidos",tipo_contratacion:"Tipo de Contratación",id_proveedor:"Proveedor"},submitHandler:function(){c.submit()}}),s.find('form[name="delete"]').validate({submitHandler:function(){c.submit()}}),s.on("click",'button[name="nuevo"]',(function(n){n.stopImmediatePropagation(),c.new()})),s.on("click",'button[name="row-edit"]',(function(n){n.stopImmediatePropagation(),c.edit($(this))})),s.on("click",'a[name="row-delete"]',(function(n){n.stopImmediatePropagation(),c.delete($(this))})),s.find('input[name="imagen"]').change((function(n){n.stopImmediatePropagation(),HELPER.preview_image(this,s.find('img[name="imagen"]'))})),s.find('input[name="imagen_firma"]').change((function(n){n.stopImmediatePropagation(),HELPER.preview_image(this,s.find('img[name="imagen_firma"]'))})),s.on("change",'select[name="tipo_contratacion"]',(function(n){n.stopImmediatePropagation(),c.change_tipo_contratacion()})),s.on("change",'select[name="tipo_personal"]',(function(n){n.stopImmediatePropagation(),c.change_tipo_personal()})),s.on("click",'button[name="buscar_numero"]',(function(n){n.stopImmediatePropagation(),c.buscar_numero()})),s.on("keyup",'input[name="numero_documento"]',(function(n){n.stopImmediatePropagation(),13==n.which&&c.buscar_numero()})),c.datatable(),c.select_documento_entidad(),c.select_proveedor(),c.select_cliente(),c.select_ubigeo(),HELPER.load_component()},id:null,action_submit:null,imagen_anterior:null,imagen_firma_anterior:null,change_tipo_personal:()=>{let n=s.find('form[name="save"]'),a=n.validate().settings;n.find('select[name="tipo_personal"]').val(),$.extend(!0,a,{rules:{}})},buscar_numero:function(){let n=s.find('form[name="save"]'),a=HELPER.ladda(d+' button[name="buscar_numero"]');axios.get(BASE_API+"recursos/busqueda/reniec_sunat?numero="+n.find('input[name="numero_documento"]').val()).then((function(e){"RUC"==s.find('select[name="id_documento"] option:selected').text()&&n.find('input[name="nombre"]').val(e.data.razon_social),"DNI"==s.find('select[name="id_documento"] option:selected').text()&&(n.find('input[name="nombre"]').val(e.data.nombre),n.find('input[name="apellido"]').val(e.data.apellido)),n.find('input[name="direccion"]').val(e.data.direccion),a.stop()})).catch((n=>{console.log(n),a.stop()}))},change_tipo_contratacion:()=>{let n=s.find('form[name="save"]'),a=n.find('select[name="tipo_contratacion"]').val();n.validate().settings,"TERCERO"==a?(n.find('input[name="direccion"]').prop("disabled",!0),n.find('input[name="fecha_ingreso"]').prop("disabled",!0),n.find('input[name="fecha_planilla"]').prop("disabled",!0),n.find('input[name="fecha_salida"]').prop("disabled",!0),n.find('input[name="sueldo_basico"]').prop("disabled",!0),n.find('input[name="sueldo_variable"]').prop("disabled",!0),n.find('input[name="sueldo_interno"]').prop("disabled",!0),n.find('input[name="numero_seguro"]').prop("disabled",!0),n.find('select[name="id_ubigeo"]').prop("disabled",!0),n.find('select[name="modalidad_contrato"]').prop("disabled",!0),n.find('select[name="genero"]').prop("disabled",!0),n.find('select[name="id_proveedor"]').prop("disabled",!1)):(n.find('input[name="direccion"]').prop("disabled",!1),n.find('input[name="fecha_ingreso"]').prop("disabled",!1),n.find('input[name="fecha_planilla"]').prop("disabled",!1),n.find('input[name="fecha_salida"]').prop("disabled",!1),n.find('input[name="sueldo_basico"]').prop("disabled",!1),n.find('input[name="sueldo_variable"]').prop("disabled",!1),n.find('input[name="sueldo_interno"]').prop("disabled",!1),n.find('input[name="numero_seguro"]').prop("disabled",!1),n.find('select[name="id_ubigeo"]').prop("disabled",!1),n.find('select[name="modalidad_contrato"]').prop("disabled",!1),n.find('select[name="genero"]').prop("disabled",!1),n.find('select[name="id_proveedor"]').prop("disabled",!0))},select_documento_entidad:async()=>{let n=s.find('select[data-select="DOCUMENTO_ENTIDAD"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),await axios.get(BASE_API+"recursos/data_static/documento_entidad").then((function(a){a.data.forEach((a=>{n.append('<option value="'+a.id+'">'+a.text+"</option>")}))})).catch((n=>{console.log(n)}))},select_cliente:async()=>{s.find('select[data-select="CLIENTE"]').select2({ajax:{url:BASE_API+"configuracion/socio/get_select?fl_cliente=true",dataType:"json",delay:250,data:function(n){return{buscar:n.term}},processResults:function(n,a){return{results:n}},cache:!0},escapeMarkup:function(n){return n},placeholder:"Buscar Razón Social o Número de Documento",minimumInputLength:6,allowClear:!0})},select_proveedor:async()=>{s.find('select[data-select="PROVEEDOR"]').select2({ajax:{url:BASE_API+"configuracion/socio/get_select?fl_proveedor=true",dataType:"json",delay:250,data:function(n){return{buscar:n.term}},processResults:function(n,a){return{results:n}},cache:!0},escapeMarkup:function(n){return n},placeholder:"Buscar Razón Social o Número de Documento",minimumInputLength:6,allowClear:!0})},select_ubigeo:async()=>{s.find('select[data-select="UBIGEO"]').select2({ajax:{url:BASE_API+"recursos/data_static/ubigeo",dataType:"json",delay:250,data:function(n){return{buscar:n.term}},processResults:function(n,a){return{results:n}},cache:!0},escapeMarkup:function(n){return n},placeholder:"Departamento - Provincia - Distrito",minimumInputLength:3,allowClear:!0,language:{inputTooShort:function(){return"Digite mínimo 3 caracteres"}}})},datatable:function(){this.table=s.find('table[name="registros"]').DataTable({ajax:BASE_API+"configuracion/personal",lengthChange:!1,paginate:!1,columns:[{title:"ACCIÓN",defaultContent:"",render:function(n,a,e){return'\n                            <div class="btn-group">\n                                <button type="button" class="btn btn-default btn-sm" name="row-edit">EDITAR</button>     \n                                <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">\n                                      <i class="fa fa-angle-down"></i>\n                                </button>\n                                <ul class="dropdown-menu dropdown-menu-left" role="menu">\n                                    <li><a class="dropdown-item" name="row-delete" href="javascript:"><i class="far fa-trash-alt"></i> Eliminar</a></li>\n                                </ul>\n                            </div>\n                        '},width:"100px"},{title:"TIPO PERSONAL",mData:"tipo_personal"},{title:"DOCUMENTO",render:function(n,a,e){return e.documento+" "+e.numero_documento}},{title:"NOMBRE",mData:"nombre"},{title:"APELLIDO",mData:"apellido"},{title:"DIRECCIÓN",mData:"direccion"},{title:"TELÉFONO",mData:"telefono"}],createdRow:function(n,a,e){$(n).attr("data-json",JSON.stringify(a)),$(n).find("td").eq(0).css("width","10px")}})},new:function(){let n=s.find('form[name="save"]');s.find('h4[name="save"]').text("Nuevo Personal"),HELPER.reset_form(n),n.find('img[name="imagen"]').attr("src",BASE_FILES+"images/sin_imagen.jpg"),n.find('img[name="imagen_firma"]').attr("src",""),this.id=null,this.action_submit="save",this.imagen_anterior=null,s.find('tbody[name="detalle-cuenta_bancaria"').html(""),s.find('div[name="modal-save"]').modal("show")},edit:function(n){let a=s.find('form[name="save"]');s.find('h4[name="save"]').text("Editar Personal"),HELPER.reset_form(a),s.find('tbody[name="detalle-cuenta_bancaria"').html("");let e=HELPER.get_attr_json(n);a.find('select[name="tipo_personal"]').val(e.tipo_personal).change(),a.find('select[name="id_documento"]').val(e.id_documento).change(),a.find('input[name="numero_documento"]').val(e.numero_documento),a.find('input[name="nombre"]').val(e.nombre),a.find('input[name="apellido"]').val(e.apellido),a.find('input[name="direccion"]').val(e.direccion),a.find('select[name="tipo_contratacion"]').val(e.tipo_contratacion).change(),a.find('select[name="modalidad_contrato"]').val(e.modalidad_contrato).change(),a.find('select[name="genero"]').val(e.genero).change(),a.find('input[name="telefono"]').val(e.telefono),a.find('select[name="id_proveedor"]').val(e.id_proveedor).change(),a.find('input[name="fecha_nacimiento"]').val(e.fecha_nacimiento),a.find('input[name="fecha_ingreso"]').val(e.fecha_ingreso),a.find('input[name="fecha_planilla"]').val(e.fecha_planilla),a.find('input[name="fecha_salida"]').val(e.fecha_salida),a.find('input[name="sueldo_basico"]').val(e.sueldo_basico),a.find('input[name="sueldo_variable"]').val(e.sueldo_variable),a.find('input[name="sueldo_interno"]').val(e.sueldo_interno),a.find('input[name="numero_seguro"]').val(e.numero_seguro),a.find('img[name="imagen"]').attr("src",BASE_FILES+"images/"+e.imagen),a.find('input[name="seguro_com_trabajo_riesgo"]').val(e.seguro_com_trabajo_riesgo),a.find('input[name="seguro_salud"]').val(e.seguro_salud),a.find('input[name="seguro_vidaley"]').val(e.seguro_vidaley),a.find('input[name="codigo_sap"]').val(e.codigo_sap),a.find('input[name="pais"]').val(e.pais),a.find('input[name="filtro_security"]').val(e.filtro_security),a.find('input[name="vigencia_filtro"]').val(e.vigencia_filtro),a.find('input[name="fotocheck"]').val(e.fotocheck),a.find('input[name="licencia_interna"]').val(e.licencia_interna),a.find('input[name="hazmati"]').val(e.hazmati),a.find('input[name="hazmatii"]').val(e.hazmatii),a.find('input[name="capacitacion_mtc"]').val(e.capacitacion_mtc),a.find('input[name="certi_prim_auxilio"]').val(e.certi_prim_auxilio),a.find('input[name="certi_man_defensivo"]').val(e.certi_man_defensivo),a.find('input[name="certi_man_extintor"]').val(e.certi_man_extintor),a.find('input[name="portuaria_seguridad"]').val(e.portuaria_seguridad),a.find('input[name="proteccion_portuaria"]').val(e.proteccion_portuaria),a.find('input[name="curriculum"]').val(e.curriculum),a.find('input[name="record"]').val(e.record),a.find('input[name="otro"]').val(e.otro),a.find('input[name="antecedente_policial"]').val(e.antecedente_policial),a.find('input[name="antecedente_penal"]').val(e.antecedente_penal),a.find('input[name="trabajo_altura"]').val(e.trabajo_altura),a.find('input[name="observacion"]').val(e.observacion),a.find('input[name="cmp"]').val(e.cmp),a.find('input[name="rne"]').val(e.rne),a.find('img[name="imagen_firma"]').attr("src",BASE_FILES+"images/"+e.imagen_firma),null!=e.id_ubigeo&&a.find('select[name="id_ubigeo"]').html("").append(new Option(e.ubigeo,e.id_ubigeo)),null!=e.id_cliente&&a.find('select[name="id_cliente"]').html("").append(new Option(e.cliente,e.id_cliente)),null!=e.id_proveedor&&a.find('select[name="id_proveedor"]').html("").append(new Option(e.proveedor,e.id_proveedor)),e.cuentas_bancarias.forEach((n=>{l.agregar(n)})),this.id=e.id,this.action_submit="save",this.imagen_anterior=e.imagen,this.imagen_firma_anterior=e.imagen_firma,s.find('div[name="modal-save"]').modal("show")},delete:function(n){let a="delete",e=s.find('form[name="'+a+'"]');s.find('h4[name="'+a+'"]').text("Eliminar Personal"),HELPER.reset_form(e);let t=HELPER.get_attr_json(n);e.find('div[name="texto"]').text(t.email),this.id=t.id,this.action_submit=a,this.imagen_anterior=t.imagen,this.imagen_firma_anterior=t.imagen_firma,s.find('div[name="modal-'+a+'"]').modal("show")},submit:function(){let n=HELPER.ladda(d+' form[name="'+this.action_submit+'"] button[type="submit"]'),a=new FormData(document.querySelector(d+' form[name="'+this.action_submit+'"]'));null!=this.id&&a.append("id",this.id),null!=this.imagen_anterior&&a.append("imagen_anterior",this.imagen_anterior),null!=this.imagen_firma_anterior&&a.append("imagen_firma_anterior",this.imagen_firma_anterior),a.append("detalle_cuenta_bancaria",JSON.stringify(l.get_datajson())),axios({method:"post",url:BASE_API+"configuracion/personal/"+this.action_submit,data:a}).then((function(a){c.table.ajax.reload(null,!1),s.find('div[name="modal-'+c.action_submit+'"]').modal("hide"),HELPER.notificacion(a.data.mensaje,"success"),n.stop()})).catch((a=>{n.stop()}))}};const r=c}}]);