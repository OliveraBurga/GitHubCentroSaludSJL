"use strict";(self.webpackChunkpoliclinico=self.webpackChunkpoliclinico||[]).push([[478],{478:(n,t,a)=>{let i,o;a.r(t),a.d(t,{default:()=>d});let e={render:n=>{$("#main").off(),n.innerHTML='\n\n        <div id="main">\n            \x3c!-- Content Header (Page header) --\x3e\n            <section class="content-header">\n                <div class="row">\n                    <div class="col-md-8 content-header" style="padding-top:5px;">\n                        <h1 style="margin:0; ">\n                            Moneda / Tipo Cambio\n                            <small>Configuración</small>\n                        </h1>\n                    </div>\n                </div>\n                </section>\n\n                \x3c!-- Main content --\x3e\n                <section class="content">\n\n                \x3c!-- Default box --\x3e\n                <div class="box box-warning">\n                        <div class="box-body">                        \n                            <div class="row">\n                                <div class="col-md-12">\n                                    <table class="table">\n                                        <thead>\n                                            <tr>\n                                                <th>MONEDA</th>\n                                                <th>SÍMBOLO</th>\n                                                <th>CÓDIGO</th>\n                                                <th>TIPO CAMBIO</th>\n                                                <th>VISTA PANEL</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody name="detalle"></tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light-grey btn-sm" data-dismiss="modal" style="float:left;">Cancelar</button>\n                            <button type="button" name="submit" class="btn btn-primary btn-sm">Guardar</button>\n                        </div>\n                </div>\n                \x3c!-- /.box --\x3e\n\n            </section>\n            \x3c!-- /.content --\x3e\n\n\n\n        </div>            \n        ',e.after_render()},after_render:()=>{o="#main",i=$(o),i.on("click",'button[name="submit"]',(function(n){n.stopImmediatePropagation(),e.submit()})),e.get(),HELPER.load_component()},id:null,action_submit:null,imagen_anterior:null,get:async function(){axios.get(BASE_API+"configuracion/tipo_cambio").then((function(n){let t=n.data,a=(i.find('form[name="save"]'),"");t.forEach((n=>{1!=n.id&&(a+='\n                        <tr data-id="'+n.id+'">\n                            <td>'+n.nombre+"</td>\n                            <td>"+n.simbolo+"</td>\n                            <td>"+n.codigo+'</td>\n                            <td><input type="number" step="any" data-name="tipo_cambio" class="form-control" value="'+n.tipo_cambio+'" /></td>\n                            <td><input type="radio" name="codigo_publico" value="'+n.id+'" '+(1==n.fl_publico?"checked":"")+" /></td>\n                        </tr>\n                    ")})),i.find('tbody[name="detalle"]').html(a),e.action_submit="save"})).catch((n=>{console.log(n)}))},submit:function(){let n=HELPER.ladda(o+' button[name="submit"]'),t=new FormData,a=[];i.find('tbody[name="detalle"] tr').each((function(){a.push({id:$(this).data("id"),tipo_cambio:$(this).find('input[data-name="tipo_cambio"]').val()})})),t.append("detalle",JSON.stringify(a)),t.append("id_publico",i.find('input[name="codigo_publico"]:checked').val()),axios({method:"post",url:BASE_API+"configuracion/tipo_cambio/"+this.action_submit,data:t}).then((function(t){e.get(),HELPER.notificacion(t.data.mensaje,"success"),n.stop()})).catch((t=>{n.stop()}))}};const d=e}}]);