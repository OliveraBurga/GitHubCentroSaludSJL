"use strict";(self.webpackChunkpoliclinico=self.webpackChunkpoliclinico||[]).push([[707],{707:(t,a,n)=>{n.r(a),n.d(a,{default:()=>s});var e=n(110),i=n(238);let o,d,l={render:async(t,a="PLAN ATENCION")=>{$("#main").off(),t.innerHTML='\n\n        <div id="main">\n            \x3c!-- Content Header (Page header) --\x3e\n            <section class="content-header">\n                <div class="row">\n                    <div class="col-md-8 content-header" style="padding-top:5px;">\n                        <h1 style="margin:0; ">\n                            HISTORIA CLINICA\n                            <small>Operacion</small>\n                        </h1>\n                    </div>\n                    \n                </div>\n                </section>\n\n                \x3c!-- Main content --\x3e\n                <section class="content">\n\n                \x3c!-- Default box --\x3e\n                <div class="box box-warning">\n                  <div class="box-body">\n                    <div class="row">        \n                      <div class="col-md-2">\n                        <div class="form-group">\n                            <label>Fecha Desde</label>\n                            <input type="date" name="fecha_inicio" id="fecha_inicio" class="form-control" autocomplete="off">\n                        </div>\n                      </div>\n                      <div class="col-md-2">\n                        <div class="form-group">\n                            <label>Fecha Hasta</label>\n                            <input type="date" name="fecha_fin" id="fecha_fin" class="form-control" autocomplete="off">\n                        </div>\n                      </div>\n                    <div class="col-md-3">\n                        <div class="form-group">\n                            <label>Tipo <small> </small></label>\n                            <div class="form-group">\n                            <select name="id_tipo" data-select="hg" class="form-control select">\n                            <option value="SIN_ATENCION">SIN ATENCION</option>\n                            <option value="">CON ATENCION</option>\n                            </select>\n                            </div>                              \n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="form-group">\n                            <label>Paciente <small>(*)</small></label>\n                            <div class="form-group">\n                            <select name="id_paciente_filtro" data-select="PACIENTE" class="form-control"></select>\n                            </div>                              \n                        </div>\n                    </div>\n\n                    <div class="col-md-1" style="padding-top:19px;">\n                    <button class="btn btn-warning" name="update_datatable"><i class="fa fa-search"></i> Buscar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n                \x3c!-- /.box --\x3e\n\n                \x3c!-- Default box --\x3e\n                <div class="box box-warning">\n                    <div class="box-body">\n                    <div class="table-responsive">\n                        <table name="registros" class="table table-striped nowrap" style="width:100%;"></table>\n                    </div>\n                    </div>\n                </div>\n                \x3c!-- /.box --\x3e\n\n            </section>\n            \x3c!-- /.content --\x3e\n\n            \x3c!-- MODAL SAVE --\x3e\n            <div class="modal inmodal fade" name="modal-save" data-backdrop="static"  role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-xl">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n                            <h4 name="save" class="modal-title">Modal title</h4>\n                        </div>\n                        <form name="save">\n                            <div class="modal-body">\n                                <div class="nav-tabs-custom">\n                                    <ul class="nav nav-tabs">\n                                        <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="true">Historial</a></li>\n                                        <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false">Datos Generales</a></li>\n                                        <li class=""><a href="#tab_3" data-toggle="tab" aria-expanded="false">Diagnostico- CIE10</a></li>\n                                        <li class=""><a href="#tab_4" data-toggle="tab" aria-expanded="false">Patología Clínica</a></li>\n                                        <li class="" ><a href="#tab_5" data-toggle="tab" aria-expanded="false">Anatomía Patológica</a></li>\n                                        <li class="" ><a href="#tab_6" data-toggle="tab" aria-expanded="false">Diagnóstico por Imágenes</a></li>\n                                        <li class=""><a href="#tab_7" data-toggle="tab" aria-expanded="false">Intervención quirúrgica</a></li>\n                                        <li class=""><a href="#tab_8" data-toggle="tab" aria-expanded="false">Receta Médica</a></li>\n                                     </ul>\n                                    <div class="tab-content">\n                                        <div class="tab-pane active" id="tab_1">\n                                            <div class="row">\n                                                <div class="col-md-6"  style="display:none">\n                                                    <div class="form-group">\n                                                        <label>Paciente <span class="text-red"> </span></label>\n                                                        <div class="form-group">\n                                                        <input type="text" class="form-control" data-name="paciente" disabled/>\n                                                        </div>                              \n                                                    </div>\n                                                </div>\n                                                <div class="col-md-6"  style="display:none">\n                                                    <div class="form-group">\n                                                        <label>Especialista <span class="text-red"> </span></label>\n                                                        <div class="form-group">\n                                                        <input type="text" class="form-control" data-name="especialista" disabled/>\n                                                        </div>                              \n                                                    </div>\n                                                </div>\n                                                <div class="col-md-6" style="display:none">\n                                                    <div class="form-group">\n                                                        <label>Servicio <span class="text-red"> </span></label>\n                                                        <div class="form-group">\n                                                        <input type="text" class="form-control" data-name="servicio" disabled/>\n                                                        </div>                              \n                                                    </div>\n                                                </div>\n                                               \n                                                <div style="display:none" class="col-md-12">\n                                                    <div class="form-group">\n                                                        <label>Tratamiento <span class="text-red"></span></label> \n                                                        <textarea name="tratamiento" class="form-control"></textarea>  \n                                                    </div>                         \n                                                </div>  \n                                                <div class="col-md-12" style="display:none"> \n                                                \n                                                    <table class="table">\n                                                        <thead>\n                                                            <tr>\n                                                                <th>Tratamiento</th>\n                                                                <th>Presentación</th>\n                                                                <th>Dosis</th>\n                                                                <th>Vía administración</th>\n                                                                <th>Tiempo Tratamiento</th>\n                                                                <th></th>\n                                                            </tr>\n                                                        </thead>\n                                                        <tbody name="detalle-tratamiento"></tbody>\n                                                        <tfoot>\n                                                            <tr>\n                                                                <td><button type="button" name="agregar_tratamiento" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                            </tr>\n                                                        </tfoot>\n                                                    </table>\n                                                </div>\n\n                                              \n                                                <div class="col-md-12" style="display:none">\n                                                    <div class="form-group">\n                                                        <label>Plan<span class="text-red"> </span></label>\n                                                        <input type="text" name="plan" class="form-control" autocomplete="off">\n                                                    </div>                         \n                                                </div>                                    \n                                            \n\n\n\n                                                <div class="col-md-12">\n                                                    <table class="table">\n                                                        <thead>\n                                                            <tr>\n                                                                <th>FECHA</th>\n                                                                <th>MEDICO</th>\n                                                                <th>SERVICIO</th>\n                                                                <th>DIAGNOSTICO</th>\n                                                                <th>RECETA</th>\n                                                            </tr>\n                                                        </thead>\n                                                        <tbody name="historial">\n                                                        \n                                                        </tbody>\n                                                         \n                                                    </table>\n                                                </div>\n\n\n                                                 \n                                            </div>\n                                        </div>\n                                        <div class="tab-pane" id="tab_2">\n                                            <div class="row">\n\n                                                <div class="col-md-12">\n                                                    <div style="background-color:#fff !important; border: 1px solid #bebdbd !important; border-radius:8px; margin-top:10px; padding:5px; min-height:80px;font-size: 12px;font-family: Tahoma;">\n                                                        <table style="width:100%;">\n                                                            <tr>\n                                                                <td  colspan="4" style="text-align: center;font-size: 18px;"><strong>DATOS DEL PACIENTE</strong></td>\n                                                            \n                                                            </tr>\n                                                            <tr>\n                                                                <td style="width: 15%;" > <strong> PACIENTE</strong></td>\n                                                                <td  style="width: 35%;"><span>:</span><span name="paciente"></span> </td>\n                                                                <td  style="width: 15%;"><strong>DIRECCION</strong></td>\n                                                                <td  style="width: 35%;"><span>:</span><span name="direccion"></span> </td>\n                                                            </tr>\n                                                            \n                                                            <tr>\n                                                                <td ><strong> DNI</strong></td>\n                                                                <td ><span>:</span><span name="dni"></span> </td>\n                                                                <td ><strong>SEXO</strong></td>\n                                                                <td ><span>:</span><span name="sexo"></span> </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td ><strong> FECHA NACIMIENTO</strong></td>\n                                                                <td ><span>:</span><span name="fecha_nacimiento"></span> </td>\n                                                                <td ><strong>EDAD</strong></td>\n                                                                <td ><span>:</span><span name="edad"></span> </td>\n                                                            </tr>\n                                                         \n                                                        </table>\n                                                    </div>\n                                                </div>\n\n                                                \n                                                    <div class="col-md-12">\n                                                        <div style="background-color:#fff !important; border: 1px solid #bebdbd !important; border-radius:8px; margin-top:10px; padding:5px; min-height:80px;font-size: 12px;font-family: Tahoma;">\n                                                            <table style="width:100%;">\n                                                                <tr>\n                                                                    <td  colspan="4" style="text-align: center;font-size: 18px;"><strong>FUNCIONES VITALES</strong></td>\n                                                                \n                                                                </tr>\n                                                            \n                                                                \n                                                                \n                                                                <tr>\n                                                                    <td ><strong> PRECION ARTERIAL</strong></td>\n                                                                    <td ><span>:</span><span name="presion_arterial"></span> </td>\n                                                                    <td ><strong>TEMPERATURA</strong></td>\n                                                                    <td ><span>:</span><span name="temperatura"></span> </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td ><strong> FRECUENCIA RESPIRATORIA</strong></td>\n                                                                    <td ><span>:</span><span name="frecuencia_respiratoria"></span> </td>\n                                                                    <td ><strong>FRECUENCIA CARDIACA</strong></td>\n                                                                    <td ><span>:</span><span name="frecuencia_cardiaca"></span> </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td ><strong>PESO</strong></td>\n                                                                    <td ><span>:</span><span name="peso"></span> </td>\n                                                                    <td ><strong>TALLA</strong></td>\n                                                                    <td ><span>:</span><span name="talla"></span> </td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <td ><strong>SATURACION</strong></td>\n                                                                    <td ><span>:</span><span name="saturacion"></span> </td>\n                                                                    <td ><strong> </strong></td>\n                                                                    <td ><span  ></span> </td>\n                                                                </tr>\n                                                            </table>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class="col-md-4">\n                                                        <div class="form-group">\n                                                            <label>Fecha<span class="text-red"> </span></label>\n                                                            <div class="form-group">\n                                                            <input type="date" class="form-control" name="fecha" />\n                                                            </div>                              \n                                                        </div>\n                                                    </div>\n                                                    <div class="col-md-4">\n                                                        <div class="form-group">\n                                                            <label>Serie<span class="text-red"> </span></label>\n                                                            <div class="form-group">\n                                                            <input type="text" class="form-control" name="serie" disabled/>\n                                                            </div>                              \n                                                        </div>\n                                                    </div>\n                                                    <div class="col-md-4">\n                                                        <div class="form-group">\n                                                            <label>Numero<span class="text-red"> </span></label>\n                                                            <div class="form-group">\n                                                            <input type="text" class="form-control" name="numero" disabled/>\n                                                            </div>                              \n                                                        </div>\n                                                    </div>\n                                                    <div class="col-md-12">\n                                                        <div class="form-group">\n                                                            <label>Antecedentes<span class="text-red"> </span></label>\n                                                            <textarea name="antecedente" class="form-control"></textarea>       \n                                                        </div>                         \n                                                    </div>  \n                                                    <div class="col-md-12">\n                                                        <div class="form-group">\n                                                            <label>Motivo de la consulta<span class="text-red"> </span></label>\n                                                            <textarea name="motivo" class="form-control"></textarea>  \n                                                        </div>                         \n                                                    </div>  \n                                                    <div class="col-md-12">\n                                                        <div class="form-group">\n                                                            <label>Examen Fisico<span class="text-red"> </span></label>\n                                                            <textarea name="examen_fisico" class="form-control"></textarea>  \n                                                        </div>                         \n                                                    </div> \n                                           \n\n                                                \n                                                </div> \n                                            </div>\n                                            <div class="tab-pane" id="tab_3">\n                                                <div class="row">\n                                                    <div class="col-md-12">     \n                                                        <table class="table">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>DIAGNOSTICO</th>\n                                                                    <th>TIPO</th>\n                                                                    <th></th>\n                                                                \n                                                                </tr>\n                                                            </thead>\n                                                            <tbody name="detalle-diagnostico"></tbody>\n                                                            <tfoot>\n                                                                <tr>\n                                                                    <td><button type="button" name="agregar_diagnostico" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                                </tr>\n                                                            </tfoot>\n                                                        </table>\n                                                    </div>\n\n                                                \n                                                </div> \n                                            </div>\n\n                                            <div class="tab-pane" id="tab_4">\n                                                <div class="row">\n\n\n                                                    <div class="col-md-12" style="display:none"> \n                                                        \n                                                        <table class="table">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>Tratamiento</th>\n                                                                    <th>Presentación</th>\n                                                                    <th>Dosis</th>\n                                                                    <th>Vía administración</th>\n                                                                    <th>Tiempo Tratamiento</th>\n                                                                    <th></th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody name="detalle-tratamiento"></tbody>\n                                                            <tfoot>\n                                                                <tr>\n                                                                    <td><button type="button" name="agregar_tratamiento" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                                </tr>\n                                                            </tfoot>\n                                                        </table>\n                                                    </div>\n\n                                                    <div class="col-md-12">\n                                                        <table class="table">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>ANALISIS</th>\n                                                                \n                                                                    <th></th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody name="detalle-patologia_clinica"></tbody>\n                                                            <tfoot>\n                                                                <tr>\n                                                                    <td><button type="button" name="agregar_patologia_clinica" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                                </tr>\n                                                            </tfoot>\n                                                        </table>\n                                                    </div>\n\n                                             \n                                            \n\n                                                    <div class="col-md-12">\n                                                        <div class="form-group">\n                                                            <label>Observación <span class="text-red"></span></label> \n                                                            <textarea name="observacion" class="form-control"></textarea>  \n                                                        </div>                         \n                                                    </div> \n\n                                                \n                                                </div> \n                                            </div>\n\n                                            <div class="tab-pane" id="tab_5">\n                                                <div class="row">\n\n\n                                                <div class="col-md-12">\n                                                    <table class="table">\n                                                        <thead>\n                                                            <tr>\n                                                                <th>NOMBRE</th>\n                                                            \n                                                                <th></th>\n                                                            </tr>\n                                                        </thead>\n                                                        <tbody name="detalle-anatomia_patologica"></tbody>\n                                                        <tfoot>\n                                                            <tr>\n                                                                <td><button type="button" name="agregar_anatomia_patologica" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                            </tr>\n                                                        </tfoot>\n                                                    </table>\n                                                </div>\n                                                \n                                                <div class="col-md-12">\n                                                    <div class="form-group">\n                                                        <label>Observación <span class="text-red"></span></label> \n                                                        <textarea name="observacion_anatomia_patologica" class="form-control"></textarea>  \n                                                    </div>                         \n                                                </div> \n\n                                                \n                                                </div> \n                                            </div>\n\n                                            <div class="tab-pane" id="tab_6">\n                                                <div class="row">\n\n                                                \n                                                    <div class="col-md-12">\n                                                        <table class="table">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>NOMBRE</th>\n                                                                \n                                                                    <th></th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody name="detalle-diagnostico_imagenes"></tbody>\n                                                            <tfoot>\n                                                                <tr>\n                                                                    <td><button type="button" name="agregar_diagnostico_imagenes" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                                </tr>\n                                                            </tfoot>\n                                                        </table>\n                                                    </div>\n\n                                                    <div class="col-md-12">\n                                                        <div class="form-group">\n                                                            <label>Observación <span class="text-red"></span></label> \n                                                            <textarea name="observacion_diagnostico_imagenes" class="form-control"></textarea>  \n                                                        </div>                         \n                                                    </div> \n\n                                                </div> \n                                            </div>\n                                            <div class="tab-pane" id="tab_7">\n                                                <div class="row">\n\n                                                <div class="col-md-12">\n                                                    <table class="table">\n                                                        <thead>\n                                                            <tr>\n                                                                <th>NOMBRE</th>\n                                                            \n                                                                <th></th>\n                                                            </tr>\n                                                        </thead>\n                                                        <tbody name="detalle-intervencion_quirurjica"></tbody>\n                                                        <tfoot>\n                                                            <tr>\n                                                                <td><button type="button" name="agregar_intervencion_quirurjica" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                            </tr>\n                                                        </tfoot>\n                                                    </table>\n                                                </div>\n\n\n                                                <div class="col-md-12">\n                                                    <div class="form-group">\n                                                        <label>Observación <span class="text-red"></span></label> \n                                                        <textarea name="observacion_intervencion_quirurjica" class="form-control"></textarea>  \n                                                    </div>                         \n                                                </div> \n                                                \n                                                </div> \n                                            </div>\n                                            <div class="tab-pane" id="tab_8">\n                                                <div class="row">\n\n                                                    <div class="col-md-12"> \n\n                                                        <table class="table">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>MEDICAMENTO</th>\n                                                                    <th>CANTIDAD</th>\n                                                                    <th>UM</th>\n                                                                    <th>FRECUENCIA</th>\n                                                                    <th>PERIODO</th>\n                                                                    <th>UNIDAD DE TIEMPO</th>\n                                                                 \n                                                                    <th></th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody name="detalle-receta"></tbody>\n                                                            <tfoot>\n                                                                <tr>\n                                                                    <td><button type="button" name="agregar_receta" class="btn btn-secondary"><i class="fa fa-plus"></i> Agregar</button></td>\n                                                                </tr>\n                                                            </tfoot>\n                                                        </table>\n                                                    </div>\n\n                                                \n                                                </div> \n                                            </div>\n                                        \n                                    </div>\n                                </div>\n                            </div>\n                            <div class="modal-footer" align="center" style="display:block">\n                                <button type="button" name="cerrar" class="btn btn-white pull-left" data-dismiss="modal">Cerrar</button>\n                                <button type="submit" name="submit" class="btn btn-primary">Guardar</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- MODAL DELETE --\x3e\n            <div class="modal inmodal fade" name="modal-delete" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-sm">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>\n                            <h4 name="delete" class="modal-title">Modal title</h4>\n                        </div>\n                        <form name="delete">\n                            <div class="row">\n                                <div class="col-md-12" align="center">\n                                    <i class="fad fa-trash-alt fa-4x"></i><br/>\n                                </div>\n                                <div class="col-md-12"  align="center" style="padding-top:10px;">\n                                    <label><input type="checkbox" name="confirmacion" required/>\n                                        Confirmo realizar la anulación</label>\n                                    <p style="color:red;">Esta acción no se podrá revertir</p>\n                                </div>\n                                <div class="col-md-12" name="texto" align="center">\n\n                                </div>\n                            </div>\n                            <div class="modal-footer" align="center" style="display:block" >\n                                <button type="button" name="cerrar" class="btn btn-white" data-dismiss="modal">Cerrar</button>\n                                <button type="submit" name="submit" class="btn btn-danger">Anular Ahora!</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        \n\n            \n            <div class="modal inmodal fade" name="modal-historial" data-backdrop="static"  role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n                            <h4 class="modal-title">Atencion </h4>\n                        </div>\n                        \n                        <div class="modal-body">\n                            <div class="row">          \n                                <div class="col-md-12">\n                                    <table style="width:100%;">\n                                        <tr>\n                                            <td colspan="2" style="text-align:  center;">\n                                               <span style="font-weight:bold; color:#0d1013;font-size:20px; ">DETALLE PACIENTE</span>\n                                            </td>\n                                             \n                                              \n                                        </tr>\n                                        <tr>\n                                            <td style="text-align:  left;">\n                                               <span style="font-weight:bold; color:#085BBE">HISTORIA CLINICA</span>\n                                            </td>\n                                            <td style="text-align: left;">\n                                                <span name="historia_clinica" style="font-size:18px; color:#EA3838; font-weight:bold; text-align:left;"></span>\n                                             </td>\n                                              \n                                        </tr>\n                                        <tr>\n                                            <td>\n                                                 <span style="font-weight:bold; color:#085BBE">PACIENTE</span>\n                                            </td>\n                                            <td>\n                                                <span name="paciente" style="font-size:18px; color:#EA3838; font-weight:bold; text-align:left;"> </span>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </div>\n                                <div class="col-md-12">\n                                    <table class="table table-striped">\n                                        <thead>\n                                            <tr>\n                                                <th>fecha</th>\n                                                <th>Atencion</th>\n                                              \n                                                <th>Medico</th>\n                                                <th>Servicio</th>\n                                                <th></th>\n                                            </tr>\n                                        </thead>\n                                        <tbody name="detalle-historial"></tbody>\n                                    </table>\n                                </div>\n                            </div>  \n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            \x3c!-- MODAL SAVE --\x3e\n            <div class="modal inmodal fade" name="modal-enviar_email" data-backdrop="static"  role="dialog" aria-hidden="true">\n                <div class="modal-dialog modal-sm">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n                            <h4 name="enviar_email" class="modal-title">Modal title</h4>\n                        </div>\n                        <form name="enviar_email">\n                            <div class="modal-body">\n                                <div class="row">                \n                                    <div class="col-md-12">\n                                        <div class="form-group">\n                                            <label>HISTORIAL </label>\n                                            <input type="text" name="name" class="form-control" autocomplete="off" readonly required>\n                                        </div>\n                                    </div>\n                                    <div class="col-md-12">\n                                        <div class="form-group">\n                                            <label>Ajuntar Archivo Adicional </label>\n                                            <input type="file" name="archivo" class="form-control" autocomplete="off">\n                                        </div>\n                                    </div>\n                                    <div class="col-md-12">\n                                        <div class="form-group">\n                                            <label>Correo Electrónico <small> </small> <span class="text-red">(*)</span></label>\n                                            <input type="text" name="email" class="form-control mayus_false" data-mayus="false" autocomplete="off" required>\n                                        </div>\n                                    </div>\n                                </div>                              \n                            </div>\n                            <div class="modal-footer" align="center" style="display:block">\n                                <button type="button" name="cerrar" class="btn btn-white pull-left" data-dismiss="modal">Cerrar</button>\n                                <button type="submit" name="submit" class="btn btn-primary">Enviar</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n\n\n        </div>            \n        ',l.after_render(a)},after_render:async t=>{d="#main",o=$(d),o.find('form[name="save"]').validate({rules:{fecha:{required:!0},antecedente:{required:!0},motivo:{required:!0},examen_fisico:{required:!0}},messages:{fecha:"Fecha",antecedente:"Antecedentes",motivo:"Motivo",examen_fisico:"Examen fisico"},submitHandler:function(){l.submit()}}),o.find('form[name="enviar_email"]').validate({submitHandler:function(){l.submit_enviar_email()}}),o.on("click",'button[name="update_datatable"]',(function(t){t.stopImmediatePropagation(),l.table.ajax.reload(null,!1)})),o.find('form[name="delete"]').validate({submitHandler:function(){l.submit()}}),o.on("click",'button[name="nuevo"]',(function(t){t.stopImmediatePropagation(),l.new()})),o.on("click",'button[name="row-liquidar"]',(function(t){t.stopImmediatePropagation(),l.liquidar($(this))})),o.on("click",'button[name="row-print"]',(function(t){t.stopImmediatePropagation();let a=HELPER.get_attr_json($(this));e.Z.print(a)})),o.on("click",'a[name="row-print_historial"]',(function(t){t.stopImmediatePropagation(),axios.get(BASE_API+"operacion/plan_atencion/print/"+$(this).data("id")).then((function(t){e.Z.print(t.data)})).catch((t=>{console.log(t)}))})),o.on("click",'a[name="row-print_triaje"]',(function(t){t.stopImmediatePropagation();let a=HELPER.get_attr_json($(this));axios.get(BASE_API+"operacion/triaje/print/"+a.id_triaje).then((function(t){i.Z.print(t.data)})).catch((t=>{console.log(t)}))})),o.on("click",'a[name="row-edit"]',(function(t){t.stopImmediatePropagation(),l.edit($(this))})),o.on("click",'a[name="row-historial"]',(function(t){t.stopImmediatePropagation(),l.historial($(this))})),o.on("click",'a[name="row-delete"]',(function(t){t.stopImmediatePropagation(),l.delete($(this))})),o.on("change",'select[name="id_tipo"]',(function(t){t.stopImmediatePropagation(),l.table.ajax.reload(null,!1)})),o.find('button[name="agregar_diagnostico"]').click((function(t){t.stopImmediatePropagation(),l.agregar_diagnostico()})),o.on("click",'button[name="quitar-diagnostico"]',(function(t){t.stopImmediatePropagation(),l.quitar_diagnostico($(this))})),o.find('button[name="agregar_tratamiento"]').click((function(t){t.stopImmediatePropagation(),l.agregar_tratamiento()})),o.on("click",'button[name="quitar-tratamiento"]',(function(t){t.stopImmediatePropagation(),l.quitar_tratamien($(this))})),o.find('button[name="agregar_receta"]').click((function(t){t.stopImmediatePropagation(),l.agregar_receta()})),o.on("click",'button[name="quitar-receta"]',(function(t){t.stopImmediatePropagation(),l.quitar_receta($(this))})),o.find('button[name="agregar_patologia_clinica"]').click((function(t){t.stopImmediatePropagation(),l.agregar_patologia_clinica()})),o.on("click",'button[name="quitar-patologia_clinica"]',(function(t){t.stopImmediatePropagation(),l.quitar_patologia_clinica($(this))})),o.find('button[name="agregar_anatomia_patologica"]').click((function(t){t.stopImmediatePropagation(),l.agregar_anatomia_patologica()})),o.on("click",'button[name="quitar-anatomia_patologica"]',(function(t){t.stopImmediatePropagation(),l.quitar_anatomia_patologica($(this))})),o.find('button[name="agregar_diagnostico_imagenes"]').click((function(t){t.stopImmediatePropagation(),l.agregar_diagnostico_imagenes()})),o.on("click",'button[name="quitar-diagnostico_imagenes"]',(function(t){t.stopImmediatePropagation(),l.quitar_diagnostico_imagenes($(this))})),o.find('button[name="agregar_intervencion_quirurjica"]').click((function(t){t.stopImmediatePropagation(),l.agregar_intervencion_quirurjica()})),o.on("click",'button[name="quitar-intervencion_quirurjica"]',(function(t){t.stopImmediatePropagation(),l.quitar_intervencion_quirurjica($(this))})),o.on("click",'a[name="row-email"]',(async function(t){t.stopImmediatePropagation(),HELPER.get_attr_json($(this)),l.enviar_email($(this))})),o.find('input[name="fecha_inicio"]').val(HELPER.primer_dia_mes()),o.find('input[name="fecha_fin"]').val(HELPER.fecha_actual()),l.select_unidad_medida(),l.tipo=t,l.select_paciente(),l.get_diagnostico(),l.datatable(),l.get_data_anatomia_patologica(),l.get_data_diagnostico_imagenes(),l.get_data_intervencion_quirurjica(),l.get_data_analisis(),HELPER.load_component()},id:null,action_submit:null,imagen_anterior:null,fl_auto_event:!0,tipo:null,id_delete:null,quitar_anatomia_patologica:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},agregar_anatomia_patologica:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id_diagnostico:"",id:""});let n='\n                <tr data-codigo="'+a+'">\n                    <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                \n                    <td><select data-select="DIAGNOSTICO_PATOLOGICO" data-name="id_diagnostico" data-codigo="'+a+'" class="form-control"></select></td>\n                    <td><button type="button" name="quitar-anatomia_patologica" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n                </tr>\n            ';o.find('tbody[name="detalle-anatomia_patologica"]').append(n),l.select_anatomia_patologica(a,t.id_diagnostico)},select_anatomia_patologica:async(t=null,a="")=>{o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO_PATOLOGICO"]').html("");let n=o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO_PATOLOGICO"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_anatomia_patologica.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},get_data_anatomia_patologica:async(t="ANATOMIA PATOLOGICA")=>{await axios.get(BASE_API+"configuracion/diagnostico_config/get_select/"+t).then((async function(t){l.array_anatomia_patologica=t.data})).catch((t=>{console.log(t)}))},get_datajson_anatomia_patologica:()=>{let t=[];return o.find('tbody[name="detalle-anatomia_patologica"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),id_diagnostico:$(this).find('select[data-name="id_diagnostico"]').val()};t.push(a)})),t},quitar_diagnostico_imagenes:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},agregar_diagnostico_imagenes:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id_diagnostico:"",id:""});let n='\n                        <tr data-codigo="'+a+'">\n                            <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                        \n                            <td><select data-select="DIAGNOSTICO_IMAGENES" data-name="id_diagnostico" data-codigo="'+a+'" class="form-control"></select></td>\n                            <td><button type="button" name="quitar-diagnostico_imagenes" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n                        </tr>\n                    ';o.find('tbody[name="detalle-diagnostico_imagenes"]').append(n),l.select_diagnostico_imagenes(a,t.id_diagnostico)},select_diagnostico_imagenes:async(t=null,a="")=>{o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO_IMAGENES"]').html("");let n=o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO_IMAGENES"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_diagnostico_imagenes.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},get_data_diagnostico_imagenes:async(t="DIAGNOSTICO POR IMAGENES")=>{await axios.get(BASE_API+"configuracion/diagnostico_config/get_select/"+t).then((async function(t){l.array_diagnostico_imagenes=t.data})).catch((t=>{console.log(t)}))},get_datajson_diagnostico_imagenes:()=>{let t=[];return o.find('tbody[name="detalle-diagnostico_imagenes"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),id_diagnostico:$(this).find('select[data-name="id_diagnostico"]').val()};t.push(a)})),t},quitar_intervencion_quirurjica:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},agregar_intervencion_quirurjica:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id_diagnostico:"",id:""});let n='\n                <tr data-codigo="'+a+'">\n                    <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                \n                    <td><select data-select="INTERVENCION" data-name="id_diagnostico" data-codigo="'+a+'" class="form-control"></select></td>\n                    <td><button type="button" name="quitar-intervencion_quirurjica" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n                </tr>\n            ';o.find('tbody[name="detalle-intervencion_quirurjica"]').append(n),l.select_intervencion_quirurjica(a,t.id_diagnostico)},select_intervencion_quirurjica:async(t=null,a="")=>{o.find('tr[data-codigo="'+t+'"] select[data-select="INTERVENCION"]').html("");let n=o.find('tr[data-codigo="'+t+'"] select[data-select="INTERVENCION"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_intervencion_quirurjica.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},get_data_intervencion_quirurjica:async(t="INTERVENCION QUIRURGICA")=>{await axios.get(BASE_API+"configuracion/diagnostico_config/get_select/"+t).then((async function(t){l.array_intervencion_quirurjica=t.data})).catch((t=>{console.log(t)}))},get_datajson_intervencion_quirurjica:()=>{let t=[];return o.find('tbody[name="detalle-intervencion_quirurjica"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),id_diagnostico:$(this).find('select[data-name="id_diagnostico"]').val()};t.push(a)})),t},quitar_patologia_clinica:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},agregar_patologia_clinica:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id_analisis:"",id:""});let n='\n            <tr data-codigo="'+a+'">\n                <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n            \n                <td><select data-select="SERVICIO" data-name="id_analisis" data-codigo="'+a+'" class="form-control"></select></td>\n                <td><button type="button" name="quitar-patologia_clinica" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n            </tr>\n        ';o.find('tbody[name="detalle-patologia_clinica"]').append(n),l.select__servicio(a,t.id_analisis)},select__servicio:async(t=null,a="")=>{o.find('tr[data-codigo="'+t+'"] select[data-select="SERVICIO"]').html("");let n=o.find('tr[data-codigo="'+t+'"] select[data-select="SERVICIO"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_sevicios.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},get_data_analisis:async t=>{await axios.get(BASE_API+"configuracion/tipo_servicio/get_select").then((async function(t){l.array_sevicios=t.data})).catch((t=>{console.log(t)}))},get_datajson_patologia_clinica:()=>{let t=[];return o.find('tbody[name="detalle-patologia_clinica"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),id_analisis:$(this).find('select[data-name="id_analisis"]').val()};t.push(a)})),t},get_diagnostico:async()=>{await axios.get(BASE_API+"configuracion/diagnostico/get_select").then((function(t){l.array_diagnostico=t.data,console.log(t.data)})).catch((t=>{console.log(t)}))},select_paciente:async()=>{o.find('select[data-select="PACIENTE"]').select2({ajax:{url:BASE_API+"configuracion/socio/get_select?fl_cliente=true",dataType:"json",delay:250,data:function(t){return{buscar:t.term}},processResults:function(t,a){return{results:t}},cache:!0},escapeMarkup:function(t){return t},placeholder:"Buscar Razón Social o Número de Documento",minimumInputLength:6,allowClear:!0})},select_diagnostico:async(t=null,a="")=>{o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO"]').html("");let n=o.find('tr[data-codigo="'+t+'"] select[data-select="DIAGNOSTICO"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_diagnostico.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},agregar_diagnostico:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id:"",id_diagnostico:"",tipo:"P"});let n='\n            <tr data-codigo="'+a+'">\n                <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                <td><select data-select="DIAGNOSTICO" data-name="id_diagnostico" class="form-control"> </select></td>\n                <td><select data-select="TIPO" data-name="tipo" class="form-control">\n                    <option value="P">P</option> \n                    <option value="D">D</option> \n                    <option value="R">R</option> \n                </select></td>\n                <td><button type="button" name="quitar-diagnostico" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n            </tr>\n        ';o.find('tbody[name="detalle-diagnostico"]').append(n),l.select_diagnostico(a,t.id_diagnostico)},quitar_diagnostico:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},diagnostico_json:()=>{let t=[];return o.find('tbody[name="detalle-diagnostico"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),id_diagnostico:$(this).find('select[data-name="id_diagnostico"]').val(),tipo:$(this).find('select[data-name="tipo"]').val()};t.push(a)})),t},select_unidad_medida:async()=>{let t=o.find('select[data-select="UNIDAD_MEDIDA"]');t.append($("<option></option>").attr("value","").text("Seleccione...")),await axios.get(BASE_API+"configuracion/unidad_medida/get_select").then((function(a){l.array_unidad_medida=a.data,a.data.forEach((a=>{t.append('<option value="'+a.id+'">'+a.text+"</option>")})),t.select2()})).catch((t=>{console.log(t)}))},select_unidad:async(t=null,a="")=>{let n=o.find('tr[data-codigo="'+t+'"] select[data-select="UNIDAD"]');n.append($("<option></option>").attr("value","").text("Seleccione...")),l.array_unidad_medida.forEach((t=>{n.append('<option value="'+t.id+'">'+t.text+"</option>")})),n.val(a),n.select2()},agregar_receta:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id:"",medicamento:"",cantidad:"",id_unidad:"",frecuencia:"",periodo:"",unidad_tiempo:""});let n='\n            <tr data-codigo="'+a+'">\n                <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                <td><input type="text" data-name="medicamento" class="form-control" value="'+t.medicamento+'" /></td>\n                <td><input type="number" data-name="cantidad" class="form-control" value="'+t.cantidad+'" /></td>\n                <td><select data-select="UNIDAD" data-name="id_unidad" class="form-control"></select> </td>\n                <td><input type="text" data-name="frecuencia" class="form-control" value="'+t.frecuencia+'" /></td>\n                <td><input type="text" data-name="periodo" class="form-control" value="'+t.periodo+'" /></td>\n                <td><input type="text" data-name="unidad_tiempo" class="form-control" value="'+t.unidad_tiempo+'" /></td>\n\n                <td><button type="button" name="quitar-receta" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n            </tr>\n        ';o.find('tbody[name="detalle-receta"]').append(n),l.select_unidad(a,t.id_unidad)},quitar_receta:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},receta_json:()=>{let t=[];return o.find('tbody[name="detalle-receta"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),medicamento:$(this).find('input[data-name="medicamento"]').val(),frecuencia:$(this).find('input[data-name="frecuencia"]').val(),periodo:$(this).find('input[data-name="periodo"]').val(),unidad_tiempo:$(this).find('input[data-name="unidad_tiempo"]').val(),cantidad:$(this).find('input[data-name="cantidad"]').val(),id_unidad:$(this).find('select[data-name="id_unidad"]').val()};t.push(a)})),t},agregar_tratamiento:(t=null)=>{let a=Math.random().toString(36).substr(2);null==t&&(t={id:"",medicamento:"",presentacion:"",dosis:"",duracion:"",cantidad:""});let n='\n            <tr data-codigo="'+a+'">\n                <td style="display:none;"><input type="hidden" data-name="id" style="width:150px;" value="'+t.id+'"/></td>\n                <td><input type="text" data-name="medicamento" class="form-control" value="'+t.medicamento+'" /></td>\n            \n                <td><select data-name="presentacion" style="width:300px;" class="form-control select"> \n                    <option value="SUS"> SUS</option>\n                    <option value="TAB">TAB</option>\n                    <option value="INY">INY</option>\n                    <option value="JBE">JBE</option>\n                    <option value="SOL">SOL</option>\n                    <option value="SOL-OFT">SOL-OFT</option>\n                    </select>\n                </td>\n\n                <td><input type="text" data-name="dosis" class="form-control" value="'+t.dosis+'" /></td>\n                <td><select data-name="cantidad" style="width:300px;" class="form-control select"> \n                    <option value="VO"> VO</option>\n                    <option value="SC">SC</option>\n                    <option value="INY">EV</option>\n\n                    </select>\n                </td>\n                <td><input type="text" data-name="duracion" class="form-control" value="'+t.duracion+'" /></td>\n               \n                <td><button type="button" name="quitar-tratamiento" class="btn btn-danger"><i class="fa fa-times"></i></button></td>\n            </tr>\n        ';o.find('tbody[name="detalle-tratamiento"]').append(n),o.find('tr[data-codigo="'+a+'"] select[data-name="presentacion"]').val(t.presentacion).select2(),o.find('tr[data-codigo="'+a+'"] select[data-name="cantidad"]').val(t.cantidad).select2()},quitar_tratamien:t=>{var a=t.parents("tr")[0].dataset.codigo;$('tr[data-codigo="'+a+'"]').remove()},tratamien_json:()=>{let t=[];return o.find('tbody[name="detalle-tratamiento"] tr').each((function(){let a={id:$(this).find('input[data-name="id"]').val(),medicamento:$(this).find('input[data-name="medicamento"]').val(),presentacion:$(this).find('select[data-name="presentacion"]').val(),dosis:$(this).find('input[data-name="dosis"]').val(),duracion:$(this).find('input[data-name="duracion"]').val(),cantidad:$(this).find('select[data-name="cantidad"]').val()};t.push(a)})),t},liquidar:function(t){let a=HELPER.get_attr_json(t);l.get_liquidacion(a.id_atencion),o.find('tbody[name="historial"]').html(""),o.find('tbody[name="detalle-patologia_clinica"]').html(""),o.find('tbody[name="detalle-diagnostico_imagenes"]').html(""),o.find('tbody[name="detalle-anatomia_patologica"]').html(""),o.find('tbody[name="detalle-intervencion_quirurjica"]').html(""),o.find('tbody[name="detalle-diagnostico"]').html(""),o.find('span[name="atencion"]').text(a.atencion),o.find('span[name="especialista"]').text(a.personal),o.find('span[name="servicio"]').text(a.servicio),o.find('span[name="presion_arterial"]').text(a.presion_arterial),o.find('span[name="temperatura"]').text(a.temperatura),o.find('span[name="frecuencia_respiratoria"]').text(a.frecuencia_respiratoria),o.find('span[name="frecuencia_cardiaca"]').text(a.frecuencia_cardiaca),o.find('span[name="peso"]').text(a.peso),o.find('span[name="talla"]').text(a.talla),o.find('span[name="saturacion"]').text(a.saturacion),o.find('div[name="modal-save"]').modal("show"),o.find('span[name="paciente"]').text(a.paciente),o.find('span[name="dni"]').text(a.dni),o.find('span[name="direccion"]').text(a.direccion),o.find('span[name="fecha_nacimiento"]').text(HELPER.fecha(a.fecha_nacimiento)),o.find('span[name="sexo"]').text(a.sexo);let n=a.fecha_nacimiento,e=new Date,i=new Date(n),d=e.getFullYear()-i.getFullYear(),s=e.getMonth()-i.getMonth();(s<0||0===s&&e.getDate()<i.getDate()+1)&&d--,o.find('span[name="edad"]').text(d),axios.get(BASE_API+"operacion/plan_atencion/historial?id_paciente="+a.id_paciente).then((function(t){let a=t.data,n="";a.forEach((t=>{n+="\n                        <tr data-json='"+JSON.stringify(t)+'\'>\n                            <td style="width:100px; text-align:center; font-size:14px;">\n                                <div>'+t.fecha+"</div>\n                            </td>\n                            <td><div>"+t.personal+"</div></td>\n                            <td> <div>"+t.servicio+"</div> </td>\n                            <td>"+t.diagnostico+"</td>\n                            <td>"+t.receta+'</td>\n\n                            <td>\n                            <a class="dropdown-item" href="javascript:" name="row-print_historial" data-id="'+t.id+'"><i class="far fa-print"></i></a>\n                            </td>\n                        </tr>\n                    '})),o.find('tbody[name="historial"]').html(n)})).catch((t=>{console.log(t)}))},get_liquidacion:async t=>{o.find('h4[name="save"]').text("Nuevo Historia Clinica");let a=o.find('form[name="save"]');await axios.get(BASE_API+"operacion/plan_atencion/get_liquidar/"+t).then((function(n){let e=n.data;HELPER.reset_form(a),l.get_correlativo(),a.find('input[name="fecha"]').val(HELPER.fecha_actual()),a.find('input[data-name="numero_atencion"]').val(e.atencion),a.find('input[data-name="paciente"]').val(e.paciente),a.find('input[data-name="especialista"]').val(e.personal),a.find('input[data-name="servicio"]').val(e.servicio),l.id_atencion=t,l.action_submit="save",l.archivo_anterior=null})).catch((t=>{console.log(t)}))},datatable:function(){this.table=o.find('table[name="registros"]').DataTable({ajax:{url:BASE_API+"operacion/plan_atencion",data:function(t){t.fecha_inicio=o.find('input[name="fecha_inicio"]').val(),t.fecha_fin=o.find('input[name="fecha_fin"]').val(),t.tipo=o.find('select[name="id_tipo"]').val(),t.id_paciente=o.find('select[name="id_paciente_filtro"]').val()}},columns:[{title:"ACCIÓN",defaultContent:"",render:function(t,a,n){var e='\n                        <div class="btn-group" style="width:120px;">';return null==n.fl_estado?e+='<button type="button" class="btn btn-default btn-sm" name="row-liquidar"><i class="fa fa-flag"></i> ATENCION</button>':e+='<button type="button" class="btn btn-default btn-sm" name="row-print">VISUALIZAR</button>',e+='\n                            <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">\n                                <i class="fa fa-angle-down"></i>\n                            </button>\n                            <ul class="dropdown-menu dropdown-menu-left" role="menu">',null!=n.fl_estado&&(e+='\n                            <li><a class="dropdown-item" name="row-edit" href="javascript:"><i class="far fa-edit"></i> Editar</a></li>\n                            <li><a class="dropdown-item" name="row-delete" href="javascript:"><i class="far fa-ban"></i> Anular</a></li>\n                            <li><a class="dropdown-item" name="row-email" href="javascript:"><i class="fa fa-envelope"></i> Enviar Email</a></li>\n                            \n                            \n                            '),e+'\n                                <li><a class="dropdown-item" name="row-historial" href="javascript:"><i class="far fa-edit"></i> Ver Historial</a></li>\n                            </ul>\n                        </div>\n                        '},width:"100px"},{title:"FECHA",render:function(t,a,n){return HELPER.fecha(n.fecha)}},{title:"HISTORIA CLINICA",mData:"plan_atencion"},{title:"ATENCIÒN",mData:"atencion"},{title:"TRIAJE",render:function(t,a,n){let e="";return null!=n.id_triaje&&(e='<a href="javascript:" class="text-green" name="row-print_triaje"><i class="fa fa-print"></i> '+n.numero_triaje+"</a>"),e},class:"text-center"},{title:"PERSONAL",mData:"personal"},{title:"PACIENTE",mData:"paciente"},{title:"SERVICIO",mData:"servicio"},{title:"ESTADO",defaultContent:"",render:function(t,a,n){let e="";return 0==n.fl_estado?e='\n                                <small class="label label-danger"> ANULADO</small>\n                            ':null==n.fl_estado?e='\n                                <small class="label label-default"> REGISTRADO</small>\n                            ':2==n.fl_estado?e='\n                                <small class="label label-primary"> APROBADO</small>\n                            ':3==n.fl_estado&&(e='\n                                <small class="label label-success"> PROCESADO</small>\n                            '),e}},{title:"OBSERVACION",mData:"observacion"}],createdRow:function(t,a,n){$(t).attr("data-json",JSON.stringify(a)),0==a.fl_estado&&($(t).css("text-decoration","line-through"),$(t).css("color","red"))}})},get_correlativo:async()=>{await axios.get(BASE_API+"operacion/plan_atencion/get_correlativo").then((function(t){o.find('input[name="numero"]').val(t.data.numero),o.find('input[name="serie"]').val(t.data.serie)})).catch((t=>{console.log(t)}))},historial:function(t){o.find('tbody[name="detalle-historial"]').html("");let a=HELPER.get_attr_json(t);o.find('span[name="paciente"]').text(a.paciente),o.find('span[name="historia_clinica"]').text(a.historia_clinica),axios.get(BASE_API+"operacion/plan_atencion/historial?id_paciente="+a.id_paciente).then((function(t){let a=t.data,n="";a.forEach((t=>{n+="\n                        <tr data-json='"+JSON.stringify(t)+'\'>\n                            <td style="width:100px; text-align:center; font-size:14px;">\n                                <div>'+t.fecha+"</div>\n                            </td>\n                            <td>\n                                <div>"+t.atencion+"</div> \n                                \n                            </td>\n                            <td  >\n                            <div>"+t.personal+"</div> \n                            </td>\n                            <td  >\n                            <div>"+t.servicio+'</div> \n                            </td>\n                            <td  >\n                            <a class="dropdown-item" href="javascript:" name="row-print_historial" data-id="'+t.id+'"><i class="far fa-print"></i></a>\n                            </td>\n                        </tr>\n                    '})),o.find('tbody[name="detalle-historial"]').html(n),o.find('div[name="modal-historial"]').modal("show")})).catch((t=>{console.log(t)}))},new:function(){let t=o.find('form[name="save"]');o.find('h4[name="save"]').text("Nueva Historia Clinica"),HELPER.reset_form(t),t.find('input[name="fecha"]').val(HELPER.fecha_actual()),this.get_correlativo(),t.find('select[name="id_moneda"]').val(1).change(),t.find('select[name="id_local"]').val(GLOBAL.usuario.id_local).change(),this.id=null,this.action_submit="save",o.find('tbody[name="detalle-patologia_clinica"]').html(""),o.find('tbody[name="detalle-diagnostico_imagenes"]').html(""),o.find('tbody[name="detalle-anatomia_patologica"]').html(""),o.find('tbody[name="detalle-intervencion_quirurjica"]').html(""),o.find('div[data-campo="fl_no_liquidacion_manifiesto"]').hide(),o.find('tbody[name="detalle-receta"]').html(""),o.find('tbody[name="detalle-cuenta_bancaria"]').html(""),o.find('div[name="modal-save"]').modal("show")},edit:async t=>{let a=o.find('form[name="save"]');o.find('h4[name="save"]').text("Editar Historia Clinica"),o.find('tbody[name="detalle-patologia_clinica"]').html(""),o.find('tbody[name="detalle-diagnostico"]').html(""),o.find('tbody[name="detalle-diagnostico_imagenes"]').html(""),o.find('tbody[name="detalle-anatomia_patologica"]').html(""),o.find('tbody[name="detalle-intervencion_quirurjica"]').html(""),o.find('tbody[name="detalle-receta"]').html(""),HELPER.reset_form(a),o.find('div[data-campo="fl_no_liquidacion_manifiesto"]').hide();let n=HELPER.get_attr_json(t);l.fl_auto_event=!1,a.find('input[name="fecha"]').val(n.fecha),a.find('input[name="serie"]').val(n.serie),a.find('input[name="numero"]').val(n.numero),a.find('input[data-name="numero_atencion"]').val(n.atencion),a.find('input[data-name="paciente"]').val(n.paciente),a.find('input[data-name="especialista"]').val(n.personal),a.find('input[data-name="servicio"]').val(n.servicio),a.find('textarea[name="antecedente"]').val(n.antecedente),a.find('textarea[name="motivo"]').val(n.motivo),a.find('textarea[name="examen_fisico"]').val(n.examen_fisico),a.find('textarea[name="tratamiento"]').val(n.tratamiento),a.find('input[name="plan"]').val(n.plan),a.find('textarea[name="observacion"]').val(n.observacion),a.find('textarea[name="observacion_anatomia_patologica"]').val(n.observacion_anatomia_patologica),a.find('textarea[name="observacion_diagnostico_imagenes"]').val(n.observacion_diagnostico_imagenes),a.find('textarea[name="observacion_intervencion_quirurjica"]').val(n.observacion_intervencion_quirurjica),o.find('span[name="atencion"]').text(n.atencion),o.find('span[name="paciente"]').text(n.paciente),o.find('span[name="especialista"]').text(n.personal),o.find('span[name="servicio"]').text(n.servicio),o.find('span[name="presion_arterial"]').text(n.presion_arterial),o.find('span[name="temperatura"]').text(n.temperatura),o.find('span[name="frecuencia_respiratoria"]').text(n.frecuencia_respiratoria),o.find('span[name="frecuencia_cardiaca"]').text(n.frecuencia_cardiaca),o.find('span[name="peso"]').text(n.peso),o.find('span[name="talla"]').text(n.talla),o.find('span[name="saturacion"]').text(n.saturacion),n.diagnostico.forEach((t=>{l.agregar_diagnostico(t)})),n.tratamiento.forEach((t=>{l.agregar_tratamiento(t)})),n.receta.forEach((t=>{l.agregar_receta(t)})),n.patologia_clinica.forEach((t=>{l.agregar_patologia_clinica(t)})),n.diagnostico_config.forEach((t=>{"ANATOMIA PATOLOGICA"==t.tipo&&l.agregar_anatomia_patologica(t)})),n.diagnostico_config.forEach((t=>{"DIAGNOSTICO POR IMAGENES"==t.tipo&&l.agregar_diagnostico_imagenes(t)})),n.diagnostico_config.forEach((t=>{"INTERVENCION QUIRURGICA"==t.tipo&&l.agregar_intervencion_quirurjica(t)})),l.fl_auto_event=!0,l.id=n.id,l.action_submit="save",o.find('tbody[name="historial"]').html(""),axios.get(BASE_API+"operacion/plan_atencion/historial?id_paciente="+n.id_paciente).then((function(t){let a=t.data,n="";a.forEach((t=>{n+="\n                        <tr data-json='"+JSON.stringify(t)+'\'>\n                            <td style="width:100px; text-align:center; font-size:14px;">\n                                <div>'+t.fecha+"</div>\n                            </td>\n                            <td><div>"+t.personal+"</div></td>\n                            <td> <div>"+t.servicio+"</div> </td>\n                            <td>"+t.diagnostico+"</td>\n                            <td>"+t.receta+'</td>\n\n                            <td>\n                            <a class="dropdown-item" href="javascript:" name="row-print_historial" data-id="'+t.id+'"><i class="far fa-print"></i></a>\n                            </td>\n                        </tr>\n                    '})),o.find('tbody[name="historial"]').html(n)})).catch((t=>{console.log(t)})),o.find('div[name="modal-save"]').modal("show")},enviar_email:function(t){let a="enviar_email",n=o.find('form[name="'+a+'"]');o.find('h4[name="'+a+'"]').text("Enviar   a correo electrónico"),HELPER.reset_form(n);let e=HELPER.get_attr_json(t);n.find('input[name="name"]').val(e.atencion),n.find('input[name="email"]').val(e.email),this.id=e.id,this.action_submit=a,o.find('div[name="modal-'+a+'"]').modal("show")},delete:function(t){let a="delete",n=o.find('form[name="'+a+'"]');o.find('h4[name="'+a+'"]').text("Anular Historia  Clinica"),HELPER.reset_form(n);let e=HELPER.get_attr_json(t);n.find('div[name="texto"]').text(e.serie+"-"+e.numero),this.id_delete=e.id,this.action_submit=a,o.find('div[name="modal-'+a+'"]').modal("show")},submit:function(){let t=HELPER.ladda(d+' form[name="'+this.action_submit+'"] button[type="submit"]'),a=new FormData(document.querySelector(d+' form[name="'+this.action_submit+'"]'));null!=this.id&&a.append("id",this.id),a.append("tipo",l.tipo),a.append("detalle_diagnostico",JSON.stringify(l.diagnostico_json())),a.append("detalle_tratamiento",JSON.stringify(l.tratamien_json())),a.append("detalle_receta",JSON.stringify(l.receta_json())),a.append("patologia_clinica",JSON.stringify(l.get_datajson_patologia_clinica())),a.append("anatomia_patologica",JSON.stringify(l.get_datajson_anatomia_patologica())),a.append("diagnostico_imagenes",JSON.stringify(l.get_datajson_diagnostico_imagenes())),a.append("intervencion_quirurjica",JSON.stringify(l.get_datajson_intervencion_quirurjica())),null!=this.id_atencion&&a.append("id_atencion",this.id_atencion),null!=this.id_delete&&a.append("id_delete",this.id_delete),axios({method:"post",url:BASE_API+"operacion/plan_atencion/"+this.action_submit,data:a}).then((function(a){l.table.ajax.reload(null,!1),o.find('div[name="modal-'+l.action_submit+'"]').modal("hide"),1==a.data.fl_enviar?setTimeout((()=>{l.enviar_historial(a.data.id_plan_atencion)}),1e3):HELPER.notificacion(a.data.mensaje,a.data.tipo),l.action_submit,t.stop()})).catch((a=>{t.stop()}))},enviar_historial:t=>{axios.get(BASE_API+"operacion/plan_atencion/enviar_email_automatico/"+t).then((function(t){HELPER.notificacion(t.data.mensaje,t.data.tipo)})).catch((a=>{Impresion_factura.print(t),console.log(a)}))},submit_enviar_email:function(){let t=HELPER.ladda(d+' form[name="'+this.action_submit+'"] button[type="submit"]'),a=new FormData(document.querySelector(d+' form[name="'+this.action_submit+'"]'));a.append("id",this.id),axios({method:"post",url:BASE_API+"operacion/plan_atencion/enviar_email",data:a}).then((function(a){o.find('div[name="modal-'+l.action_submit+'"]').modal("hide"),HELPER.notificacion(a.data.mensaje,"success"),t.stop()})).catch((a=>{t.stop()}))}};const s=l},238:(t,a,n)=>{n.d(a,{Z:()=>e}),n(178);const e={print:async t=>{try{let a='<div style="max-width:842px; margin:auto;">';0==t.fl_estado&&(a+='\n                \n                <style>\n                    #marca_agua_anulado {\n                        position: relative;\n                    }\n\n                    .rotar_texto\n                    {                \n                        position: absolute;\n                        margin-top:30%;\n                        top: 50%;\n                        left: 50%;\n                        transform: translate(-50%, -50%);\n                        font-size:60px;\n                        opacity: 0.5;\n                    }\n                </style>       \n\n                <div id="marca_agua_anulado">\n                    <span class="rotar_texto" style="color:#d5062a; font-weight:bold;">ANULADO</span>\n                </div>'),a+='\n \n             <table  style="width:100%;">\n                 <tr>\n                     <td style="width:50%;">\n                         <img src="'+BASE_FILES+"images/"+t.empresa.logo+'" style="max-height:70px;"/>\n                         <div style="font-weight:bold; text-align:left;"><strong>'+t.empresa.razon_social+"</strong></div>\n                         <div>"+t.empresa.direccion+"</div>\n                         <div>"+t.empresa.telefono+"</div>\n                         <div>"+t.empresa.email+"</div>\n                     </td>\n                     ",a+='       \n                     <td style="width:30%;">\n                         <div style="text-align:center; background-color:#2cb2ff !important; border: 1px solid #eeeeee !important; border-radius:8px;">\n                             <div style="font-size:18px; padding-bottom: 10px; padding-top: 5px;"><strong style="font-size:14px">RUC : '+t.empresa.numero_documento+'</strong></div>\n                             <div style="font-weight:bold; font-size:20px; text-align:center; background-color:#2cb2ff !important; border: 2px solid #eeeeee !important; padding-left: 0px; box-shadow: 0px 0px 5px 1px #cecdcd; ">TRIAJE</div>\n                             <div style="font-weight:bold; font-size:18px; padding-top: 10px; padding-bottom: 5px;"><strong>'+t.triaje+'</strong></div>\n                         </div>\n                     </td>\n                 </tr>\n                 <tr>\n                     <td colspan="2" style="vertical-align:top;">\n                         <div style="background-color:#fff !important; border: 1px solid #2cb2ff !important; border-radius:8px; margin-top:10px; padding:5px; min-height:80px;">\n                             <table style="width:100%;">\n                                <tr>\n                                     <td style="width:150px;"><strong>FECHA EMISIÓN</strong></td>\n                                     <td>: '+HELPER.fecha(t.fecha)+'</td>\n                                     <td rowspan="5" style="font-size: 20px; text-align: right;font-weight: bold; color: rgb(1, 182, 82);" >TOTAL:  '+GLOBAL.moneda_sistema.simbolo+" "+t.importe+"</td>\n                                 </tr>\n                                 <tr>\n                                     <td><strong># ATENCIÓN</strong></td>\n                                     <td>: "+t.atencion+"</td>\n                                 </tr>\n                                 <tr>\n                                    <td><strong>PACIENTE</strong></td>\n                                    <td>: "+t.paciente+"</td>\n                                 </tr>\n                                 <tr>\n                                    <td><strong>ESPECIALISTA</strong></td>\n                                    <td>: "+t.personal+"</td>\n                                 </tr>\n                                 <tr>\n                                    <td><strong>SERVICIO</strong></td>\n                                    <td>: "+t.servicio+'</td>\n                                 </tr>\n                                 \n                             </table>\n                         </div>                    \n                     </td>\n                 </tr>\n\n                 <tr>\n                     <td colspan="2">\n                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius:8px; margin-top:10px; padding:5px;">\n                            <div style="font-weight:bold; color: #eeeeee;">DATOS DEL TRIAJE</div>\n                        </div>       \n                         <table style="width:100%;">                           \n                             <tbody>\n                                <tr>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">PRESIÓN ARTERIAL</div>\n                                        </div> \n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.presion_arterial+'</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">TEMPERATURA</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.temperatura+'</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">FRECUENCIA RESPIRATORIA</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px;; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.frecuencia_respiratoria+'</div>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">FRECUENCIA CARDIACA</div>\n                                        </div> \n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.frecuencia_cardiaca+'</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">SATURACIÓN</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.saturacion+'</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">PESO</div>\n                                        </div>\n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px;; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.peso+'</div>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#2cb2ff !important; border: 1px solid #2cb2ff !important; border-radius: 8px 0 0px 8px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold; color: #eeeeee;">TALLA</div>\n                                        </div> \n                                    </td>\n                                    <td style="text-align:center;">\n                                        <div style="text-align: center; background-color:#eeeeee !important; border: 1px solid #2cb2ff !important; border-radius: 0px 8px 8px 0px; margin-top:10px; padding:5px;">\n                                            <div style="font-weight:bold;">'+t.talla+'</div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </tbody>\n                         </table>\n                     </td>\n                 </tr>\n                 <tr>\n                    <td colspan="2" style="padding-top: 70px;">\n                        <table style="width:100%; margin-top:10px; border-collapse:collapse;">\n                            <tr>\n                                <td style="vertical-align:top;width: 70%"> </td>\n                                <td style="vertical-align:top;width: 30%"> </td>\n                            </tr>\n                            <tr>\n                                <td style="vertical-align:top;width: 70%"></td>\n                                <td style="vertical-align:top;width: 30% ; border-top: 1px solid black;text-align: center;">FIRMA</td>\n                            </tr>\n                        </table>\n                    </td>\n                 </tr>\n             </table>',HELPER.print(a)}catch(t){console.error(t)}}}}}]);